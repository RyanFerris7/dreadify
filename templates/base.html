{% load static %}
<!-- 
    Base for the entire website.
    Each page extends from this base.
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D R E A D I F Y</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/fbc0935dc2.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/css/style.css">
    <!-- FavIcons-->
    <link rel="icon" type="image/png" sizes="16x16" href="https://res.cloudinary.com/dortt45t8/image/upload/v1711120097/favicon-16x16_ojydfy.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://res.cloudinary.com/dortt45t8/image/upload/v1711120098/favicon-32x32_yfqaoj.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://res.cloudinary.com/dortt45t8/image/upload/v1711120096/android-chrome-192x192_fhlmqv.png">
    <link rel="icon" type="image/png" sizes="512x512" href="https://res.cloudinary.com/dortt45t8/image/upload/v1711120096/android-chrome-512x512_mn8nsm.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://res.cloudinary.com/dortt45t8/image/upload/v1711120097/apple-touch-icon_kzwxwg.png">
    {{ form.media }}
</head>

<body class="d-flex flex-column min-vh-100 body-colour">
    <nav class="navbar bg-black">
        <div class="container">
            <div class="col-12 col-lg-6 offset-lg-3 py-2 d-flex justify-content-center align-items-center">
                <a class="logo" href="{% url 'blog:homepage' %}">
                    <img class="logo img-fluid"
                        src="https://raw.githubusercontent.com/RyanFerris7/dreadify/main/assets/images/dreadify_logo.png"
                        alt="DREADIFY" style="text-align: center;">
                </a>
            </div>
        </div>
        <div class="container">
            <div class="category-list">
                <div class="row">
                    <div class="col">
                        <a class="btn nav-link" data-bs-toggle="offcanvas" href="#sidebar" role="button"
                            aria-controls="sidebar_reveal">
                            <i class="fa-solid fa-bars"></i>
                        </a>
                        <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebar"
                            aria-labelledby="sidebar_reveal">
                            <div class="offcanvas-header">
                                <img class="offcanvas-logo mx-auto"
                                    src="https://raw.githubusercontent.com/RyanFerris7/dreadify/main/assets/images/dreadify_logo.png"
                                    alt="DREADIFY"></img>
                                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                                    aria-label="Close"></button>
                            </div>
                            <div class="offcanvas-body">
                                <div class="mt-3">
                                    <a class="sidebar-nav-link" href="{% url 'blog:homepage' %}">Home</a>
                                    <hr>
                                    <br>
                                    <a class="sidebar-nav-link" href="{% url 'blog:about' %}">About</a>
                                    <hr>
                                    <br>
                                    <a class="sidebar-nav-link" href="{% url 'blog:create-blog' %}">Write Article</a>
                                    <hr>
                                    <br>
                                    <a class="sidebar-nav-link" href="{% url 'blog:create_poll' %}">Create Poll</a>
                                    <hr>
                                    <br>
                                    <a class="sidebar-nav-link"
                                        href="{% url 'blog:homepage' %}?q={{'gaming'}}">Gaming</a>
                                    <hr>
                                    <br>
                                    <a class="sidebar-nav-link" href="{% url 'blog:homepage' %}?q={{'film'}}">Film</a>
                                    <hr>
                                    <br>
                                    <a class="sidebar-nav-link" href="{% url 'blog:homepage' %}?q={{'books'}}">Books</a>
                                    <hr>
                                    <br>
                                    {% if request.user.is_authenticated %}
                                    <a class="sidebar-nav-link" href="{% url 'blog:logout' %}">Logout</a>
                                    <hr>
                                    <br>
                                    {% else %}
                                    <a class="sidebar-nav-link" href="{% url 'blog:login' %}">Login</a>
                                    <hr>
                                    <br>
                                    {% endif %}
                                    <div class="sidebar-footer">
                                        <small class="connect-text">Connect With Us</small>
                                        <br>
                                        <a href="https://github.com/RyanFerris7/dreadify" target="_blank"><i
                                                class="fa-brands fa-github social"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <a class="nav-link" href="{% url 'blog:homepage' %}">Home</a>
                    </div>
                    <div class="col category-dropdwon">
                        <div class="dropdown">
                            <button class="btn dropdown-toggle nav-link" type="button" id="dropdownMenuButton"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Categories</button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="{% url 'blog:homepage' %}?q={{'gaming'}}">Gaming</a>
                                <a class="dropdown-item" href="{% url 'blog:homepage' %}?q={{'film'}}">Films</a>
                                <a class="dropdown-item" href="{% url 'blog:homepage' %}?q={{'books'}}">Books</a>
                                <hr style="color: #fff;">
                                <a class="dropdown-item" href="{% url 'blog:create-blog' %}">Write Article</a>
                                <a class="dropdown-item" href="{% url 'blog:create_poll' %}">Create Poll</a>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        {% if request.user.is_authenticated %}
                        <a class="nav-link" href="{% url 'blog:logout' %}">Logout</a>
                        {% else %}
                        <a class="nav-link" href="{% url 'blog:login' %}">Login</a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!-- Welcome and Messages -->
    <div class="container welcome mt-2">
        <div class="row">
            <div class="col text-center">
                <p class="welcome">Welcome {{ request.user.username }} </p>
                <br>
                {% if messages %}
                {% for message in messages %}
                <p class="alert">{{ message }}</p>
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
    <!-- Modal -->
    {% if not user_authenticated %}
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-image mt-3 mx-auto">
                    <img class="dreadify_logo_white"
                        src="https://res.cloudinary.com/dortt45t8/image/upload/v1711107415/hg90m3m12loqyx2lgjwn.png"
                        alt="dreadify">
                </div>
                <div class="modal-header">
                    <h1 class="modal-title fs-5 mx-auto content-warning-title" id="staticBackdropLabel">"WE HAVE SUCH
                        SIGHTS TO SHOW YOU."</h1>
                </div>
                <div class="modal-body">
                    This website contains sights which could be unsuitable for work.<br><br>
                    If you wish to proceed, click below.
                </div>
                <div class="modal-footer">
                    <button class="btn btn-modal-close mx-auto" type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal"><span class="show-me">Show Me</span></button>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <div class="body-content mt-0">
        {% block content %}
        {% endblock %}
        </div.body-content>
    </div>
    <footer class="footer bg-black text-center mt-auto">
        <div class="container-fluid">
            <br>
            <a class="navbar-brand" href="#">
                <img class="footer-logo img-fluid"
                    src="https://raw.githubusercontent.com/RyanFerris7/dreadify/main/assets/images/dreadify_logo.png"
                    alt="DREADIFY">
            </a>
            <br>
            <div>
                <small class="text-white connect-text">Connect With Us</small>
                <br>
                <a href="https://github.com/RyanFerris7/dreadify" target="_blank"><i
                        class="fa-brands fa-github social-footer"></i>
                </a>
            </div>
        </div>
        <br>
    </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<script src="/static/js/script.js"></script>

</html>